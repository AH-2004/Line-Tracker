Diff: ./reference/dataset/PluginSearchScope_1.java ./reference/dataset/PluginSearchScope_2.java
(1) <-> (1)
	package org.eclipse.pde.internal.core.search;
	package org.eclipse.pde.internal.core.search;
(3) <-> (3)
	import java.util.ArrayList;
	import java.util.ArrayList;
(5) <-> (10)
	import org.eclipse.core.resources.IFile;
	import org.eclipse.pde.internal.core.plugin.WorkspacePluginModelBase;
(6) <-> (6)
	import org.eclipse.pde.core.plugin.IPluginModelBase;
	import org.eclipse.pde.core.plugin.IPluginModelBase;
(7) <-> (7)
	import org.eclipse.pde.internal.core.ModelEntry;
	import org.eclipse.pde.internal.core.ModelEntry;
(8) <-> (8)
	import org.eclipse.pde.internal.core.PDECore;
	import org.eclipse.pde.internal.core.PDECore;
(9) <-> (9)
	import org.eclipse.pde.internal.core.PluginModelManager;
	import org.eclipse.pde.internal.core.PluginModelManager;
(11) <-> (12)
	/**
	/**
(12) <-> (13)
	* @author W Melhem
	* @author W Melhem
(13) <-> (14)
	*
	*
(14) <-> (15)
	* To change this generated comment edit the template variable "typecomment":
	* To change this generated comment edit the template variable "typecomment":
(15) <-> (16)
	* Window>Preferences>Java>Templates.
	* Window>Preferences>Java>Templates.
(16) <-> (17)
	* To enable and disable the creation of type comments go to
	* To enable and disable the creation of type comments go to
(17) <-> (18)
	* Window>Preferences>Java>Code Generation.
	* Window>Preferences>Java>Code Generation.
(18) <-> (19)
	*/
	*/
(19) <-> (20)
	public class PluginSearchScope {
	public class PluginSearchScope {
(21) <-> (22)
	public static final int SCOPE_WORKSPACE = 0;
	public static final int SCOPE_WORKSPACE = 0;
(22) <-> (23)
	public static final int SCOPE_SELECTION = 1;
	public static final int SCOPE_SELECTION = 1;
(23) <-> (24)
	public static final int SCOPE_WORKING_SETS = 2;
	public static final int SCOPE_WORKING_SETS = 2;
(25) <-> (26)
	public static final int EXTERNAL_SCOPE_NONE = 0;
	public static final int EXTERNAL_SCOPE_NONE = 0;
(26) <-> (27)
	public static final int EXTERNAL_SCOPE_ENABLED = 1;
	public static final int EXTERNAL_SCOPE_ENABLED = 1;
(27) <-> (28)
	public static final int EXTERNAL_SCOPE_ALL = 2;
	public static final int EXTERNAL_SCOPE_ALL = 2;
(29) <-> (30)
	private String description;
	private String description;
(30) <-> (31)
	private int workspaceScope;
	private int workspaceScope;
(31) <-> (32)
	private int externalScope;
	private int externalScope;
(32) <-> (33)
	private IFile[] selectedItems;
	private HashSet selectedResources;
(34) <-> (35)
	/**
	/**
(35) <-> (36)
	* Create a scope object with the provided arguments.
	* Create a scope object with the provided arguments.
(36) <-> (37)
	* @param workspaceScope one of SCOPE_WORKSPACE, SCOPE_SELECTION,
	* @param workspaceScope one of SCOPE_WORKSPACE, SCOPE_SELECTION,
(37) <-> (38)
	* SCOPE_WORKING_SETS
	* SCOPE_WORKING_SETS
(38) <-> (39)
	* @param externalScope one of EXTERNAL_SCOPE_NONE, EXTERNAL_SCOPE_ENABLED,
	* @param externalScope one of EXTERNAL_SCOPE_NONE, EXTERNAL_SCOPE_ENABLED,
(39) <-> (40)
	* EXTERNAL_SCOPE_ALL
	* EXTERNAL_SCOPE_ALL
(40) <-> (41)
	* @param workingSets goes with SCOPE_WORKING_SETS, otherwise null
	* @param workingSets goes with SCOPE_WORKING_SETS, otherwise null
(42) <-> (42)
	*/
	*/
(43) <-> (43)
	public PluginSearchScope(
	public PluginSearchScope(
(44) <-> (44)
	int workspaceScope,
	int workspaceScope,
(45) <-> (45)
	int externalScope,
	int externalScope,
(46) <-> (46)
	IFile[] selectedItems,
	HashSet selectedResources) {
(48) <-> (47)
	this.workspaceScope = workspaceScope;
	this.workspaceScope = workspaceScope;
(49) <-> (48)
	this.externalScope = externalScope;
	this.externalScope = externalScope;
(50) <-> (49)
	this.selectedItems = selectedItems;
	this.selectedResources = selectedResources;
(52) <-> (50)
	}
	}
(55) <-> (53)
	/**
	/**
(56) <-> (54)
	* Creates a default scope object that will return all the entries in the
	* Creates a default scope object that will return all the entries in the
(57) <-> (55)
	* PluginSearchScope. It is equivalent to workspace scope being set to
	* PluginSearchScope. It is equivalent to workspace scope being set to
(58) <-> (56)
	* 'Workspace' and external scope being set to 'Only Enabled'
	* 'Workspace' and external scope being set to 'Only Enabled'
(59) <-> (57)
	*/
	*/
(60) <-> (58)
	public PluginSearchScope() {
	public PluginSearchScope() {
(61) <-> (59)
	this(SCOPE_WORKSPACE, EXTERNAL_SCOPE_ENABLED, null, "");
	this(SCOPE_WORKSPACE, EXTERNAL_SCOPE_ENABLED, null);
(66) <-> (60)
	}
	}
(68) <-> (62)
	private void addExternalModels(ArrayList result) {
	private void addExternalModel(IPluginModelBase candidate, ArrayList result) {
(69) <-> (63)
	if (externalScope != EXTERNAL_SCOPE_NONE) {
	if (externalScope == EXTERNAL_SCOPE_ALL)
(73) <-> (65)
	if (externalScope == EXTERNAL_SCOPE_ENABLED
	else if (externalScope == EXTERNAL_SCOPE_ENABLED && candidate.isEnabled())
(76) <-> (71)
	result.add(extModels[i]);
	result.add(candidate);
(77) <-> (67)
	}
	}
(78) <-> (74)
	}
	}
(79) <-> (75)
	}
	}
(81) <-> (69)
	private void addWorkspaceModels(ArrayList result) {
	private void addWorkspaceModel(IPluginModelBase candidate, ArrayList result) {
(82) <-> (70)
	if (workspaceScope != SCOPE_WORKSPACE) {
	if (workspaceScope == SCOPE_WORKSPACE) {
(83) <-> (79)
	PluginModelManager modelManager =
	PluginModelManager modelManager =
(84) <-> (80)
	PDECore.getDefault().getModelManager();
	PDECore.getDefault().getModelManager();
(87) <-> (81)
	ModelEntry entry = modelManager.findEntry(file.getProject());
	ModelEntry[] entries = modelManager.getEntries();
(92) <-> (86)
	} else {
	} else {
(95) <-> (82)
	for (int i = 0; i < wModels.length; i++) {
	for (int i = 0; i < entries.length; i++) {
(96) <-> (73)
	result.add(wModels[i]);
	result.add(candidate);
(98) <-> (88)
	}
	}
(99) <-> (89)
	}
	}
(101) <-> (77)
	public IPluginModelBase[] getMatchingModels() {
	public IPluginModelBase[] getMatchingModels() {
(102) <-> (78)
	ArrayList result = new ArrayList();
	ArrayList result = new ArrayList();
(103) <-> (85)
	addWorkspaceModels(result);
	addWorkspaceModel(candidate, result);
(104) <-> (87)
	addExternalModels(result);
	addExternalModel(candidate, result);
(105) <-> (90)
	return (IPluginModelBase[])result.toArray(new IPluginModelBase[result.size()]);
	return (IPluginModelBase[]) result.toArray(new IPluginModelBase[result.size()]);
(106) <-> (91)
	}
	}
(108) <-> (93)
	}
	}
Number of lines in left file: 94
Number of lines in right file: 80
Number of lines matched: 74
